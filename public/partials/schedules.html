<div class="container" ng-init="init()">
    <h1>Horaires</h1>
    <tabset>
        <tab heading="Créer un modèle d'horaire">
            <div class="form-inline">
                <table class="table_schedule">
                    <tr>
                        <td>
                            <div class="well table_schedule_div">
                                <table>
                                    <tr>
                                        <td>
                                            Classe
                                        </td>
                                        <td>
                                            <select ng-model="classroom"
                                                    ng-options="classroom as classroom.name for classroom in classrooms"></select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Professeur(s)
                                        </td>
                                        <td class="input-append">
                                            <select ng-model="teacher"
                                                    ng-options="teacher as teacher.first_name+' '+teacher.last_name for teacher in teachersLeft"></select>
                                            <button class="btn btn-success" ng-click="appendTeacher()">+</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Cours
                                        </td>
                                        <td>
                                            <select ng-model="course"
                                                    ng-options="course as course.name for course in courses"></select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Groupe
                                        </td>
                                        <td>
                                            <select ng-model="promotion"
                                                    ng-options="promotion as promotion.name for promotion in promotions"></select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-minicolors">
                                            Couleur
                                        </td>
                                        <td>
                                            <i id="wheel_model_schedule" class="form-control" data-control="wheel"
                                               value="#ff99ee"></i>
                                        </td>
                                    </tr>

                                </table>
                            </div>
                        </td>
                        <td>
                            <div class="well table_schedule_div">
                                <p><b>Classe</b> : {{ classroom.name }}</p>

                                <p><b>Professeur(s)</b> :
                                <ul style="list-style: none">
                                    <li ng-repeat="teacherAdded in teachersTab">{{ teacherAdded.first_name }} {{ teacherAdded.last_name }}
                                        <button class="btn-mini btn-danger" ng-click="cancelTeacher(teacherAdded)">
                                            Annuler
                                        </button>
                                    </li>
                                </ul>

                                </p>
                                <p><b>Cours</b> : {{course.name }}</p>

                                <p><b>Année</b> : {{ promotion.name }}</p>

                                <p><b>Résultat</b> : {{result}}</p>
                                <button class="btn btn-success" ng-click="addScheduleModel()">Ajouter</button>
                                <button ng-click="test()">TEST</button>
                            </div>
                        </td>
                    </tr>
                </table>
                Add :
                {{teachersTab}}
                <hr>
                Left :
                {{teachersLeft}}
            </div>
        </tab>
        <tab heading="Créer un horaire">
            <div class="form-inline">
                <table class="table_schedule">
                    <tr>
                        <td>
                            <div class="well table_schedule_div">
                                <table>
                                    <tr>
                                        <td>
                                            Classe
                                        </td>
                                        <td>
                                            <select ng-model="classroom"
                                                    ng-options="classroom as classroom.name for classroom in classrooms"></select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Professeur(s)
                                        </td>
                                        <td class="input-append">
                                            <select ng-model="teacher"
                                                    ng-options="teacher as teacher.first_name+' '+teacher.last_name for teacher in teachersLeft"></select>
                                            <button class="btn btn-success" ng-click="appendTeacher()">+</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Cours
                                        </td>
                                        <td>
                                            <select ng-model="course"
                                                    ng-options="course as course.name for course in courses"></select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Groupe
                                        </td>
                                        <td>
                                            <select ng-model="promotion"
                                                    ng-options="promotion as promotion.name for promotion in promotions"></select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Jour
                                        </td>
                                        <td>
                                            <div class="form-horizontal">
                                                <input type="text" datepicker-popup="{{format}}" ng-model="dt" is-open="opened"
                                                       min="minDate"
                                                       max="'2050-06-22'" datepicker-options="dateOptions"
                                                       date-disabled="disabled(date, mode)"
                                                       ng-required="true" close-text="Close"
                                                        ng-change="checkSlotsTaken()"/>
                                                <button class="btn" ng-click="open()"><i class="icon-calendar"></i></button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Tranches horaires
                                        </td>
                                        <td>
                                            <ul>
                                                <li ng-repeat="slot in slots" class="schedule_time_slots">{{slot}}</li>
                                            </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-minicolors">
                                            Couleur
                                        </td>
                                        <td>
                                            <span id="wheel_schedule" class="form-control" data-control="wheel"
                                                  value="#ff99ee"></span>
                                        </td>
                                    </tr>
                                </table>

                            </div>
                        </td>
                        <td>
                            <div class="well table_schedule_div">
                                <p><b>Classe</b> : {{ classroom.name }}</p>

                                <p><b>Professeur(s)</b> :
                                <ul style="list-style: none">
                                    <li ng-repeat="teacherAdded in teachersTab">{{ teacherAdded.first_name }} {{ teacherAdded.last_name }}
                                        <button class="btn-mini btn-danger" ng-click="cancelTeacher(teacherAdded)">
                                            Annuler
                                        </button>
                                    </li>
                                </ul>

                                </p>
                                <p><b>Cours</b> : {{course.name }}</p>

                                <p><b>Année</b> : {{ promotion.name }}</p>

                                <p><b>Résultat</b> : {{result}}</p>
                                <button class="btn btn-success" ng-click="add()">Ajouter</button>
                            </div>
                        </td>
                    </tr>
                </table>
                <button ng-click="loadColors()">TEST</button>
                TEST : {{test}}
                <hr>
                Add :
                {{teachersTab}}
                <hr>
                Left :
                {{teachersLeft}}
            </div>
        </tab>
    </tabset>
</div>